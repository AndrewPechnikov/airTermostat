# Системний тест AirTermostat

## Опис

Цей тест перевіряє взаємодію всіх компонентів системи AirTermostat, включаючи передавач та приймач.

## Тести

### 1. Ініціалізація компонентів
- Перевірка датчика
- Перевірка дисплея
- Перевірка радіомодуля
- Перевірка живлення
- Перевірка RTC

### 2. Вимірювання температури
- Зчитування значень
- Валідація даних
- Перевірка діапазону
- Стабільність показань

### 3. Оновлення дисплея
- Відображення температури
- Відображення вологості
- Відображення часу
- Відображення стану

### 4. Передача даних
- Відправка пакету
- Перевірка доставки
- Валідація даних
- Обробка помилок

### 5. Режим сну
- Перехід в сон
- Пробудження
- Перевірка стану
- Вимірювання споживання

### 6. Перевірка часу
- Синхронізація
- Таймери
- Режими роботи
- Налаштування

### 7. Рівень батареї
- Вимірювання напруги
- Перевірка порогів
- Прогнозування
- Попередження

### 8. Тривалість тесту
- Вимірювання часу
- Перевірка продуктивності
- Аналіз результатів
- Логування

## Вимоги

### Апаратні
- Arduino Nano (2 шт.)
- DHT22
- LCD дисплей
- nRF24L01 (2 шт.)
- RTC модуль
- LED для індикації
- USB кабель

### Програмні
- arduino-cli
- Бібліотеки:
  - DHT sensor library
  - LiquidCrystal I2C
  - RF24
  - TimeManager
  - PowerManager
- Python 3 (для логування)

## Підключення

### Передавач
```
DHT22      Arduino Nano
VCC    -->  5V
GND    -->  GND
DATA   -->  D2

LCD I2C     Arduino Nano
VCC    -->  5V
GND    -->  GND
SDA    -->  A4
SCL    -->  A5

nRF24L01    Arduino Nano
VCC    -->  3.3V
GND    -->  GND
CE     -->  D9
CSN    -->  D10
SCK    -->  D13
MOSI   -->  D11
MISO   -->  D12
```

### Приймач
```
LCD I2C     Arduino Nano
VCC    -->  5V
GND    -->  GND
SDA    -->  A4
SCL    -->  A5

nRF24L01    Arduino Nano
VCC    -->  3.3V
GND    -->  GND
CE     -->  D9
CSN    -->  D10
SCK    -->  D13
MOSI   -->  D11
MISO   -->  D12

RTC         Arduino Nano
VCC    -->  5V
GND    -->  GND
SDA    -->  A4
SCL    -->  A5
```

## Логування

Тест використовує три рівні логування:
1. ERROR - помилки та невдалі тести
2. INFO - інформаційні повідомлення
3. SUCCESS - успішні операції

## Запуск

```bash
# Компіляція передавача
arduino-cli compile --fqbn arduino:avr:nano TransmitterTest.ino

# Завантаження передавача
arduino-cli upload -p /dev/ttyUSB0 TransmitterTest.ino

# Компіляція приймача
arduino-cli compile --fqbn arduino:avr:nano ReceiverTest.ino

# Завантаження приймача
arduino-cli upload -p /dev/ttyUSB1 ReceiverTest.ino
```

## Результати

### Успішний тест
- Всі перевірки пройдено
- LED постійно горить
- В логах немає помилок

### Невдалий тест
- Хоча б одна перевірка не пройдена
- LED блимає
- В логах є помилки

## Виправлення помилок

### 1. Проблеми з передачею
- Перевірте підключення
- Перевірте канал
- Перевірте відстань

### 2. Проблеми з датчиком
- Перевірте підключення
- Перевірте живлення
- Замініть датчик

### 3. Проблеми з дисплеєм
- Перевірте підключення
- Перевірте адресу I2C
- Замініть дисплей

## Безпека

1. Не перевищуйте максимальну напругу живлення
2. Дотримуйтесь рекомендацій щодо підключення
3. Захищайте від статичної електрики
4. Захищайте від вологи 